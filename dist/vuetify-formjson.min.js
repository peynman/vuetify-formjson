var VuetifyFormJSON=function(e,t,i,o){"use strict";function n(e,t,i,o,n,s,l,a,r,d){"boolean"!=typeof l&&(r=a,a=l,l=!1);const c="function"==typeof i?i.options:i;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,n&&(c.functional=!0)),o&&(c._scopeId=o),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,r(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):t&&(u=l?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(c.functional){const e=c.render;c.render=function(t,i){return u.call(i),e(t,i)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return i}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("vf-fields-renderer",{attrs:{options:e.options,id:e.formId,fields:e.fields},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},staticRenderFns:[]},void 0,{name:"vuetify-formjson",props:{id:String,fields:Object,value:Object,options:Object},computed:{formId:function(){return this.id?this.id:"vuetify-formjson-#"+1e4*Math.random()}},watch:{value:{deep:!0,handler:function(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const l=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,"hide-details":"auto"},nativeOn:{keyup:function(t){return e.updateInput(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-text-field",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-text-input",props:{id:String,field:Object,value:Object,updateKeyCodes:{type:Array,default:()=>[13,9]}},computed:{fieldProps:function(){return{...this.field.props}}},methods:{updateInput:function(e){this.updateKeyCodes&&0!==this.updateKeyCodes.length&&!this.updateKeyCodes.includes(e.keyCode)||this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const a=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-text-field",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,"hide-details":"auto",mask:"####"},nativeOn:{keyup:function(t){return e.colorTextChanged(t)}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[i("v-menu",{attrs:{top:"","nudge-bottom":"105","nudge-left":"16","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[i("div",e._g({style:{border:"1px solid black",backgroundColor:e.value,cursor:"pointer",height:"16px",width:"16px",marginTop:"2px",borderRadius:"5px",transition:"border-radius 200ms ease-in-out"}},o))]}}]),model:{value:e.colorsMenu,callback:function(t){e.colorsMenu=t},expression:"colorsMenu"}},[i("v-card",[i("v-card-text",{staticClass:"pa-0"},[i("v-color-picker",e._b({attrs:{value:e.getColorValue},on:{"update:color":e.colorSelected}},"v-color-picker",e.pickerProps,!1))],1)],1)],1)]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-text-field",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-color-input",props:{id:String,field:Object,value:String},computed:{getColorValue:function(){return this.value},fieldProps:function(){return{...this.field.props}},pickerProps:function(){return{...this.field.picker}}},data:()=>({ignore:!1}),methods:{colorTextChanged:function(e){this.$emit("input",this.value),this.ignore=!0},colorSelected:function(e){this.ignore?this.ignore=!1:this.value=e.hexa,this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const r=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-grow-1 flex-row flex-wrap align-center justify-space-between "+e.field.class},[i("label",{staticClass:"flex-grow-0"},[e._v(e._s(e.field.label))]),i("v-btn-toggle",e._b({staticClass:"d-flex flex-grow-1 flex-row justify-end",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-btn-toggle",e.fieldProps,!1),e._l(e.field.objects,(function(t,o){return i("div",{key:e.id+"-btn-grp-"+o},[t.title?i("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(o){var n=o.on;return[i("v-btn",e._g(e._b({},"v-btn",e.getBtnFieldProps(t),!1),n),[t.label?i("span",{staticClass:"text-sm"},[e._v(e._s(t.label))]):e._e(),t.icon?i("v-icon",e._b({},"v-icon",t.iconProps,!1),[e._v(e._s(t.icon))]):e._e()],1)]}}],null,!0)},[e._v("\n        "+e._s(t.title)+"\n      ")]):i("v-btn",e._b({},"v-btn",e.getBtnFieldProps(t),!1),[t.label?i("span",{staticClass:"text-sm"},[e._v(e._s(t.label))]):e._e(),t.icon?i("v-icon",e._b({},"v-icon",t.iconProps,!1),[e._v(e._s(t.icon))]):e._e()],1)],1)})),0)],1)},staticRenderFns:[]},void 0,{name:"vf-select-button-input",props:{field:Object,id:String,value:[Array,Number]},computed:{fieldProps:function(){return{...this.field.props}}},methods:{getBtnFieldProps:function(e){return{...this.field.props,...e.props}}},watch:{value:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const d=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",e._b({class:"vf-input "+e.field.class,attrs:{items:e.field.objects,label:e.field.label,multiple:e.field.multiple,"menu-props":{maxHeight:"400"},"hide-details":"auto","item-text":"title","item-value":"id"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-select",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-select-input",props:{field:Object,id:String,value:[Array,String]},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const c=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slider",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,"thumb-label":"","hide-details":"auto"},on:{change:e.updateInput},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-slider",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-range-input",props:{id:String,field:Object,value:Number},computed:{fieldProps:function(){return{...this.field.props}}},methods:{updateInput:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const u=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-switch",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,"hide-details":"auto"},on:{change:e.updateInput},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-switch",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-switch-input",props:{id:String,field:Object,value:Object},computed:{fieldProps:function(){return{...this.field.props}}},methods:{updateInput:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const p=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-autocomplete",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,items:e.field.objects,"item-text":"title","item-value":"id","hide-details":"auto"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-autocomplete",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-autocomplete-input",props:{id:String,field:Object,value:[Array,String]},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:{deep:!0,handler(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const f=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-text-field",e._b({ref:"inputValue",class:"vf-input "+e.field.class,attrs:{label:e.field.label,"hide-details":"auto"},on:{input:function(t){return e.updateInput()}},scopedSlots:e._u([{key:e.appendMode,fn:function(){return[i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[i("v-btn",e._g({staticClass:"w70 flex-row",attrs:{small:"",dense:"",rounded:"",outlined:"",color:"secondary"},on:{click:function(t){return e.nextMode()}}},o),[e._v("\n          "+e._s(e.current.abbr?e.current.abbr:e.current.title)+"\n          "),i("v-icon",{attrs:{small:""}},[e._v(e._s(e.field.icon?e.field.icon:"chevron_right"))])],1)]}}])},[i("span",[e._v(e._s(e.current.title))])])]},proxy:!0}],null,!0),model:{value:e.value[e.current.id],callback:function(t){e.$set(e.value,e.current.id,t)},expression:"value[current.id]"}},"v-text-field",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-multitext-input",props:{id:String,field:Object,value:{type:Object,default:()=>({})}},computed:{fieldProps:function(){return{...this.field.props,...this.current&&this.current.props?this.current.props:{}}},modes:function(){return this.field.modes},current:function(){return this.modes[this.currIndex]},appendMode:function(){return this.field.slot?this.field.slot:"prepend"}},data:()=>({currIndex:0}),methods:{updateInput:function(){this.$emit("input",this.value)},nextMode(){this.currIndex=this.currIndex===this.modes.length-1?0:this.currIndex+1}},created(){if("object"==typeof this.value&&this.value.id){let e=0;const t=this;this.modes.forEach(i=>{i.id===t.value.id&&(t.currIndex=e),e++})}this.current=this.modes[this.currIndex]}},void 0,!1,void 0,!1,void 0,void 0,void 0);const v=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.getRootComponent(),e._b({tag:"component",staticClass:"ma-0 pa-0"},"component",e.getRootComponentProps(),!1),e._l(e.fields,(function(t,o){return i(e.getComponentForField(t),e._b({key:e.id+"-properties-"+o,ref:o,refInFor:!0,tag:"component",model:{value:e.value[o],callback:function(t){e.$set(e.value,o,t)},expression:"value[key]"}},"component",e.getComponentPropsForField(t),!1))})),1)},staticRenderFns:[]},void 0,{name:"vf-fields-renderer",props:{id:String,fields:Object,value:{type:Object,default:()=>({})},options:Object},watch:{value:{deep:!0,handler:function(){this.$emit("input",this.value)}}},methods:{focus(){},getRootComponent(){return this.options&&"column"===this.options.root?"v-column":"v-row"},getRootComponentProps(){return this.options&&this.options.props?this.options.props:{}},getComponentPropsForField(e,t){if(!e.type)return{fields:e.fields,options:e.options};const i={field:{...e},id:`${this.id}-field-${t}`};return this.options&&(this.options.class&&(i.field.class=this.options.class+(i.field.class?" "+i.field.class:"")),this.options.props&&(i.field.props={...this.options.props,...i.field.props?i.field.props:{}})),i},getComponentForField:e=>"input"===e.type&&e.input?`vf-${e.input}-input`:"group"===e.type&&e.group?"vf-group-"+e.group:e.fields?"vf-fields-renderer":void 0}},void 0,!1,void 0,!1,void 0,void 0,void 0);const h=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-grow-1 flex-column "+e.field.class},[i("div",{staticClass:"d-flex flex-row align-center mb-1"},[i("label",{class:e.field.props&&e.field.props.error?"red--text me-1":"me-1"},[e._v(e._s(e.field.label))]),i("v-btn",{attrs:{text:"",icon:"",color:"code"===e.options.mode?"primary":"secondary"},on:{click:function(t){return e.setMode("code")}}},[i("v-icon",[e._v(e._s(e.field.icons&&e.field.icons.code?e.field.icons.code:"code"))])],1),i("v-btn",{attrs:{text:"",icon:"",color:"tree"===e.options.mode?"primary":"secondary"},on:{click:function(t){return e.setMode("tree")}}},[i("v-icon",[e._v(e._s(e.field.icons&&e.field.icons.edit?e.field.icons.edit:"edit"))])],1),i("v-btn",{attrs:{text:"",icon:"",color:"form"===e.options.mode?"primary":"secondary"},on:{click:function(t){return e.setMode("form")}}},[i("v-icon",[e._v(e._s(e.field.icons&&e.field.icons.view?e.field.icons.view:"remove_red_eye"))])],1)],1),i("div",{ref:"editor",style:"width: 100%; height: "+(e.field.height?e.field.height:"400px")+";"}),i("v-divider"),e.field.props&&e.field.props.error?i("div",{staticClass:"d-flex flex-column"},e._l(e.field.props["error-messages"],(function(t,o){return i("div",{key:"error-message-"+o,staticClass:"red--text"},[e._v(e._s(t))])})),0):e._e()],1)},staticRenderFns:[]},void 0,{name:"vf-json-input",props:{id:String,field:Object,value:[Object,String]},data:()=>({options:{mode:"code"},editor:null,ignoreUpdate:!1}),mounted:function(){const e=this,i=this.$refs.editor,o={...this.options,onChange:function(){try{this.value=e.editor.get(),this.ignoreUpdate=!0,e.$emit("input",this.value)}catch(e){}}};i&&(this.editor=new t(i,o),this.value?"string"==typeof this.value?this.editor.set(JSON.parse(this.value)):this.editor.set(this.value):this.editor.set({}))},watch:{value:{deep:!0,handler(){const e=this.editor.getTextSelection();this.editor.set(this.value),this.editor.setTextSelection(e.start,e.end)}}},methods:{setMode:function(e){this.options.mode=e,this.editor.setMode(e)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const m=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-checkbox",e._b({class:"vf-input "+e.field.class,attrs:{label:e.field.label,"hide-details":"auto"},on:{change:e.updateInput},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-checkbox",e.fieldProps,!1))},staticRenderFns:[]},void 0,{name:"vf-checkbox-input",props:{id:String,field:Object,value:[Boolean,String,Number]},computed:{fieldProps:function(){return{...this.field.props}}},methods:{updateInput:function(e){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const b=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-column "+e.field.class},[i("label",{class:e.field.props&&e.field.props.error?"red--text":""},[e._v(e._s(e.field.label))]),i("div",{staticClass:"row ma-0"},e._l(e.field.objects,(function(t){return i("v-checkbox",e._b({key:e.id+"-checkbox-"+t[e.decorator.id],class:"ma-0 pa-0 me-4 "+(t.props?t.props.class:null),attrs:{label:e.getLabel(t)},model:{value:e.value[t[e.decorator.id]],callback:function(i){e.$set(e.value,t[e.decorator.id],i)},expression:"value[item[decorator.id]]"}},"v-checkbox",e.getProps(t),!1))})),1),e.field.props&&e.field.props.error?i("div",{staticClass:"d-flex flex-column"},e._l(e.field.props["error-messages"],(function(t,o){return i("div",{key:e.id+"-error-"+o,staticClass:"red--text"},[e._v(e._s(t))])})),0):e._e()])},staticRenderFns:[]},void 0,{name:"vf-objects-list-input",props:{id:String,field:Object,value:{type:Object,default:()=>({})}},computed:{decorator:function(){return{id:this.field.decorator?this.field.decorator.id:"id",title:this.field.decorator?this.field.decorator.title:"title",label:this.field.decorator?this.field.decorator.label:":id#:title"}}},methods:{getProps:function(e){return{...this.field.props,...e.props?e.props:{}}},getLabel:function(e){const t=this.decorator;return t.label.replace(":id",e[t.id]).replace(":title",e[t.title])}},watch:{value:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const _=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-column "+e.field.class},[i("label",{class:e.field.props&&e.field.props.error?"red--text":""},[e._v(e._s(e.field.label))]),i("div",{staticClass:"row ma-0"},[i("v-radio-group",{attrs:{mandatory:!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.field.objects,(function(t){return i("v-radio",e._b({key:e.id+"-checkbox-"+t[e.decorator.id],class:""+(t.class?t.class:null),attrs:{value:t[e.decorator.id],label:e.getLabel(t)}},"v-radio",e.getProps(t),!1))})),1)],1),e.field.props&&e.field.props.error?i("div",{staticClass:"d-flex flex-column"},e._l(e.field.props["error-messages"],(function(t,o){return i("div",{key:e.id+"-error-"+o,staticClass:"red--text"},[e._v(e._s(t))])})),0):e._e()])},staticRenderFns:[]},void 0,{name:"vf-radio-group-input",props:{id:String,field:Object,value:String},computed:{decorator:function(){return{id:this.field.decorator?this.field.decorator.id:"id",title:this.field.decorator?this.field.decorator.title:"title",label:this.field.decorator?this.field.decorator.label:":id#:title"}}},methods:{getProps:function(e){return{...this.field.props,...e.props?e.props:{}}},getLabel:function(e){const t=this.decorator;return t.label.replace(":id",e[t.id]).replace(":title",e[t.title])}},watch:{value:function(){this.$emit("input",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const g=n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("vf-objects-list-input",{attrs:{field:e.field,id:e.id+"-bitwise"},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}})},staticRenderFns:[]},void 0,{name:"vf-bitwise-flags-input",props:{id:String,field:Object,value:Number},data:()=>({innerValue:{}}),watch:{value:function(){const e={};this.field.objects.forEach(t=>{0!=(this.value&t.id)&&(e[t.id]=!0)}),this.innerValue=e},innerValue:{deep:!0,handler(){let e=0;for(const t in this.innerValue)Object.prototype.hasOwnProperty.call(this.innerValue,t)&&this.innerValue[t]&&(e+=parseInt(t));this.value=e,this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const x=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-column "+e.field.class},[i("label",{staticClass:"ma-1"},[e._v(e._s(e.field.label))]),i("v-image-input",e._b({attrs:{"image-quality":.85},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-image-input",e.fieldProps,!1))],1)},staticRenderFns:[]},void 0,{components:{[i.name]:i},name:"vf-image-upload-input",props:{id:String,field:Object,value:String},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:{deep:!0,handler(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const w=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[i("v-btn",e._g({attrs:{color:e.showSettings?"warning":"secondary",icon:"","x-small":"",text:""}},o),[i("v-icon",{attrs:{small:""}},[e._v(e._s(e.showSettings?"close":e.field.settings.icon?e.field.settings.icon:"settings_applications"))])],1)]}}]),model:{value:e.showSettings,callback:function(t){e.showSettings=t},expression:"showSettings"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.field.settings.title))]),e.showSettings?i("vf-fields-renderer",{staticClass:"pa-2",attrs:{fields:e.settingsFields,options:e.field.settings.options},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1)],1)},staticRenderFns:[]},void 0,{name:"vf-datatable-dialog-settings",props:{value:{type:Object,default:()=>({})},showSettings:Boolean,field:Object},computed:{settingsFields:function(){return{"hide-columns":{type:"input",input:"objects-list",label:"Hide columns",objects:this.field.columns,decorator:{id:"column",title:"title",label:":title"}}}}},watch:{value:{deep:!0,handler(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const y=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[i("v-btn",e._g({attrs:{color:e.showDelete?"warning":"red",icon:"","x-small":"",text:""}},o),[i("v-icon",{attrs:{small:""}},[e._v(e._s(e.showDelete?"close":e.field.remove.icon?e.field.remove.icon:"indeterminate_check_box"))])],1)]}}]),model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.field.remove.title?e.field.remove.title:"You sure"))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$emit("cancel",t),e.showDelete=!1}}},[e._v(e._s(e.field.remove.cancel?e.field.remove.cancel:"Cancel"))]),i("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.$emit("accept",t),e.showDelete=!1}}},[e._v(e._s(e.field.remove.cancel?e.field.remove.accept:"Yes"))])],1)],1)],1)},staticRenderFns:[]},void 0,{name:"vf-datatable-dialog-delete",props:{showDelete:Boolean,field:Object,selected:Array}},void 0,!1,void 0,!1,void 0,void 0,void 0);const k=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persisted:"","max-width":"800px"},on:{"click:outside":function(t){return e.$emit("on-cancel")}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[i("v-btn",e._g({attrs:{color:e.showCreate?"warning":"success",icon:"","x-small":"",text:""}},o),[i("v-icon",{attrs:{small:""}},[e._v(e._s(e.showCreate?"close":"add_box"))])],1)]}}]),model:{value:e.showCreate,callback:function(t){e.showCreate=t},expression:"showCreate"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.field.create.title))]),i("v-card-text",[i("v-container",[i("vf-fields-renderer",{ref:"renderer",staticClass:"pa-2",attrs:{fields:e.fieldCreateFields,options:e.field.create.options},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)],1)},staticRenderFns:[]},void 0,{name:"vf-datatable-dialog-create",props:{value:{type:Object,default:()=>({})},field:Object,forceShow:Boolean,editMode:Boolean},data:()=>({showCreate:!1}),computed:{fieldCreateFields:function(){const e=this,t=this.editMode?{options:{props:{class:"d-flex flex-row-reverse mt-3"}},fields:{update:{type:"input",input:"button",label:this.field.edit.label?this.field.edit.label:"Update",class:"col-3 me-1",action:"update",props:{outlined:!0,color:"primary",small:!0,click:()=>{e.$emit("on-update",e.value),e.value=Object.assign({})}}},cancel:{type:"input",input:"button",label:this.field.cancel?this.field.cancel:"Cancel",class:"col-3 me-1",action:"close",props:{outlined:!0,color:"warning",small:!0,click:()=>{e.$emit("on-cancel"),e.showCreate=!1}}}}}:{options:{props:{class:"d-flex flex-row-reverse mt-3"}},fields:{addnclose:{type:"input",input:"button",label:this.field.create.labels&&this.field.create.label.add_n_close?this.field.create.label.add_n_close:"Add and Close",class:"col-3 me-1",action:"add_n_close",props:{outlined:!0,color:"primary",small:!0,click:()=>{e.$emit("on-create",e.value),e.showCreate=!1}}},addnnew:{type:"input",input:"button",label:this.field.create.labels&&this.field.create.labels.add_n_new?this.field.create.label.add_n_new:"Add and New",class:"col-3 me-1",action:"add_n_new",props:{outlined:!0,color:"primary",small:!0,click:()=>{e.$emit("on-create",e.value),e.value=Object.assign({})}}},cancel:{type:"input",input:"button",label:this.field.create.labels&&this.field.create.labels.add_n_new?this.field.create.label.add_n_new:"Cancel",class:"col-3 me-1",action:"close",props:{outlined:!0,color:"warning",small:!0,click:()=>{e.$emit("on-cancel"),e.showCreate=!1}}}}};return{...this.field.create.fields,actions_row:t}}},watch:{value:{deep:!0,handler(){this.$emit("input",this.value)}},forceShow:function(){this.showCreate=this.forceShow}},mounted(){this.showCreate=this.forceShow}},void 0,!1,void 0,!1,void 0,void 0,void 0);const C=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"vf-input d-flex flex-column flex-grow-1 "+e.field.class},[i("v-alert",{attrs:{type:e.alert.type,color:e.alert.color,dense:"",transition:"slide-y-transition",dismissible:""},model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[e._v(e._s(e.alert.message))]),i("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{dense:"",flat:""}},[i("label",[e._v(e._s(e.field.label))]),i("v-spacer"),e.field.remove&&e.selected.length>0?i("vf-datatable-dialog-delete",{attrs:{showDelete:e.showDelete,field:e.field,selected:e.selected},on:{accept:function(t){return e.onRemoveSelected()}}}):e._e(),e.field.settings?i("vf-datatable-dialog-settings",{attrs:{showSettings:e.showSettings,field:e.field},model:{value:e.settingsModel,callback:function(t){e.settingsModel=t},expression:"settingsModel"}}):e._e(),e.field.create?i("vf-datatable-dialog-create",{attrs:{field:e.field,forceShow:e.showCreate,"edit-mode":e.editMode},on:{"on-create":e.onCreateNew,"on-cancel":e.onCancelNew,"on-update":e.onUpdateNew},model:{value:e.createModel,callback:function(t){e.createModel=t},expression:"createModel"}}):e._e()],1),i("v-data-table",e._b({attrs:{headers:e.headers,items:e.items,search:e.search,expanded:e.expanded,"server-items-length":e.total,options:e.options,"sort-by":e.sortBy,"sort-desc":e.sortDesc,loading:e.loading,"calculate-widths":!0,"selectable-key":""},on:{"update:expanded":function(t){e.expanded=t},"update:options":function(t){e.options=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"click:row":e.onToggleItem},scopedSlots:e._u([{key:"item.data-table-select",fn:function(t){var o=t.item,n=t.isSelected,s=t.select;return[i("v-simple-checkbox",{staticClass:"d-inline",attrs:{value:n},on:{input:function(e){return s(e)}}}),e.field.remove?i("v-btn",{attrs:{icon:"","x-small":"",color:"red"},on:{click:function(t){return e.onRemoveSelected(o)}}},[i("v-icon",{attrs:{"x-small":""}},[e._v(e._s(e.field.remove.icon?e.field.remove.icon:"indeterminate_check_box"))])],1):e._e(),e.field.edit?i("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(){e.createModel=Object.assign({},o),e.editMode=!0,e.showCreate=!0}}},[i("v-icon",{attrs:{"x-small":""}},[e._v(e._s(e.field.edit.icon?e.field.edit.icon:"edit"))])],1):e._e()]}},e._l(e.templates,(function(t){return{key:e.getTemplateSlot(t),fn:function(o){var n=o.item;return[i(t.component,{key:t.column,tag:"component",attrs:{item:n,params:t.params,column:t.column,extras:t.extras},on:{"open-extend":e.onExpandItem,"close-extend":e.onCloseItem}})]}}})),e._l(e.headers,(function(t){return{key:e.getHeaderSlot(t),fn:function(i){return[e._v(e._s(t.text))]}}}))],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},"v-data-table",e.fieldProps,!1))],1)},staticRenderFns:[]},void 0,{components:{[w.name]:w,[y.name]:y,[k.name]:k},name:"vf-datatable-input",props:{field:Object,id:String,value:Array},computed:{fieldProps:function(){return{...this.field.props}},headers:function(){const e=[];return this.field.columns&&this.field.columns.forEach(t=>{"template"===t.type&&t.template.params&&!1===t.template.params.header||e.push({text:t.title,value:t.column,align:"start",sortable:t.sortable,divider:!0,width:t.width})}),e},templates:function(){const e=[];return this.field.columns&&this.field.columns.forEach(t=>{if("template"===t.type){const i={},o={component:"vf-table-column-"+t.template.component,params:t.template.params,column:t.column,extras:i};e.push(o),"expanded-item"===t.template.params.slot&&(this.expandTemplate=o,this.expandTemplateDefaultMetadata={...o.params.metadata})}}),e},alert:function(){return this.response?{show:200!==this.response.status,color:200===this.response.status?"blue-grey darken-1 ":"error",type:200!==this.response.status?"error":"success",message:this.response.data.message,messages:this.response.data.errors}:{show:!1}}},data:()=>({createModel:{},showAlert:!1,showDelete:!1,showCreate:!1,loading:!1,editMode:!1,loadingId:0,search:"",items:[],selected:[],expanded:[],options:{},total:0,response:null,sortBy:null,sortDesc:null,expandTemplate:null,expandTemplateDefaultMetadata:null}),methods:{updateTable(){this.loading=!0,this.loadingId+=1;const e=[];this.options.sortBy.forEach((t,i)=>{e.push({column:t,direction:this.options.sortDesc[i]?"desc":"asc"})}),this.field.table&&this.field.table.query?o.post(this.field.table.query.url,{ref_id:this.loadingId,page:this.options.page,limit:this.options.itemsPerPage,search:this.search,sort:e,with:this.field.table.query.params.with}).then(e=>{this.response=e,e.data.data&&this.loadingId<=e.data.ref_id&&this.updateTableData(e.data)}).catch(e=>{this.response=e.response}).finally(()=>{this.loading=!1}):(this.loading=!1,this.items=[])},updateTableData(e){this.items=e.data,this.total=e.total},getTemplateSlot:e=>e.params&&e.params.slot?e.params.slot:"item."+e.column,getHeaderSlot:e=>"header."+e.value,onToggleItem(e){this.toggleArray(this.expanded,e)},onCloseItem(e){this.putOffArray(this.expanded,e.item)},onExpandItem(e){this.putOnArray(this.expanded,e.item),this.expandTemplate.params.metadata=e.link.metadata},onRemoveSelected(e){if(e)this.items=this.items.filter(t=>t.id!==e.id);else{const e=this;this.items=this.items.filter(t=>0===e.selected.filter(e=>e.id===t.id).length)}this.selected=[]},onEditItem(e){this.items.unshift({id:"id#"+Math.random()*Number.MAX_SAFE_INTEGER,...this.createModel})},onCreateNew(){this.items.unshift({id:"id#"+Math.random()*Number.MAX_SAFE_INTEGER,...this.createModel}),this.showCreate=!1},onUpdateNew(){const e=this;this.items.forEach(t=>{if(t.id===e.createModel.id)for(const i in e.createModel)t[i]=e.createModel[i]}),this.editMode=!1,this.showCreate=!1},onCancelNew(){this.showCreate=!1,this.editMode=!1},toggleArray(e,t){const i=e.indexOf(t);i>=0?e.splice(i,1):e.push(t)}},watch:{showCreate:function(){console.log("showcreate d",this.showCreate)},search:function(e,t){this.updateTable()},options:{deep:!0,handler(){this.updateTable()}},value:{deep:!0,handler(){this.$emit("input",this.value)}},items:{deep:!0,handler(){this.field.create&&(this.value=[].concat(this.items),this.total=this.value.length)}},selected:{deep:!0,handler(){}}},mounted(){this.updateTable()}},void 0,!1,void 0,!1,void 0,void 0,void 0);const S=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-btn",e._b({class:"vf-input vf-btn "+e.field.class,on:{click:e.field.props.click}},"v-btn",e.fieldProps,!1),[e.field.label?i("span",[e._v(e._s(e.field.label))]):e._e(),e.field.icon?i("v-icon",e._b({},"v-icon",e.fieldIconProps,!1),[e._v(e._s(e.field.icon))]):e._e()],1)},staticRenderFns:[]},void 0,{name:"vf-button-input",props:{id:String,field:Object,value:Object,updateKeyCodes:{type:Array,default:()=>[13,9]}},computed:{fieldProps:function(){return{...this.field.props}},fieldIconProps:function(){return{...this.field.props,...this.field.iconProps}}},methods:{}},void 0,!1,void 0,!1,void 0,void 0,void 0);const $=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-col",e._b({class:"vf-column "+e.field.class},"v-col",e.field.props,!1),[i("vf-fields-renderer",{attrs:{fields:e.field.fields,options:e.field.options,id:e.id+"-row-fields"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]},void 0,{name:"vf-column",props:{value:{type:Object,default:()=>({})},id:String,field:Object}},void 0,!1,void 0,!1,void 0,void 0,void 0);const j=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-expansion-panels",e._b({class:"v-group "+e.field.class},"v-expansion-panels",e.fieldProps,!1),[i("v-expansion-panel",[i("v-expansion-panel-header",[e._v(e._s(e.field.label))]),i("v-expansion-panel-content",[i("vf-fields-renderer",{attrs:{options:e.field.options,fields:e.field.fields,id:e.id+"-fields"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"vf-group-single-exp",props:{field:Object,id:String,value:{type:Object,default:()=>({})}},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:{deep:!0,handler:function(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const O=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-expansion-panels",e._b({class:"v-group "+e.field.class},"v-expansion-panels",e.fieldProps,!1),e._l(e.field.groups,(function(t,o){return i("v-expansion-panel",{key:e.id+"-group-expansion-"+o},[i("v-expansion-panel-header",[e._v(e._s(t.label))]),i("v-expansion-panel-content",[i("vf-fields-renderer",{attrs:{options:t.options,fields:t.fields,id:e.id+"-expansion-fields"},model:{value:e.value[o],callback:function(t){e.$set(e.value,o,t)},expression:"value[key]"}})],1)],1)})),1)},staticRenderFns:[]},void 0,{name:"vf-group-expansions",props:{field:Object,id:String,value:{type:Object,default:()=>({})}},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:{deep:!0,handler:function(){console.log("expan",this.value),this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const F=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-tabs",e._b({class:"v-group "+e.field.class},"v-tabs",e.fieldProps,!1),[e._l(e.field.groups,(function(t,o){return i("v-tab",{key:e.id+"-tab-label-"+o,attrs:{href:"#"+e.id+"-tab-"+o}},[i("label",[e._v(e._s(t.label))])])})),e._l(e.field.groups,(function(t,o){return i("v-tab-item",{key:e.id+"-tab-item-"+o,attrs:{value:e.id+"-tab-"+o}},[i("vf-fields-renderer",{attrs:{options:t.options,fields:t.fields,id:e.id+"-tab-fields"},model:{value:e.value[o],callback:function(t){e.$set(e.value,o,t)},expression:"value[key]"}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"vf-group-tabs",props:{field:Object,id:String,value:{type:Object,default:()=>({})}},computed:{fieldProps:function(){return{...this.field.props}}},watch:{value:{deep:!0,handler:function(){this.$emit("input",this.value)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P={[s.name]:s,[h.name]:h,[_.name]:_,[g.name]:g,[v.name]:v,[l.name]:l,[f.name]:f,[p.name]:p,[a.name]:a,[u.name]:u,[r.name]:r,[d.name]:d,[c.name]:c,[m.name]:m,[b.name]:b,[x.name]:x,[C.name]:C,[S.name]:S,[O.name]:O,[j.name]:j,[F.name]:F,[$.name]:$};var I={install(e,t){!function(e,t){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.component(i,t[i])}(e,P)},VFTextInput:l,VuetifyFormJSON:s,VFColorInput:a,VFButtonGroupInput:r,VFSelectInput:d,VFRangeInput:c,VFSwitchInput:u,VFJSONInput:h,VFCheckboxInput:m,VFObjectsListInput:b,VFRadioGroupInput:_,VFBitwiseFlagsInput:g,VFImageUploadInput:x,VFDatatableInput:C,VFButtonInput:S,VFGroupSingleExpansion:j,VFGroupExpansion:O,VFGroupTabs:F,VFColumn:$};var E=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function o(e,t){if(!o.installed){if(o.installed=!0,!t)return void console.error("You have to install axios");e.axios=t,Object.defineProperties(e.prototype,{axios:{get:function(){return t}},$http:{get:function(){return t}}})}}"object"==i(t)?e.exports=o:window.Vue&&window.axios&&Vue.use(o,window.axios)}()}));function R(e,t){R.installed||(R.installed=!0,I.install(e),t&&t.withoutAxios||e.use(E,o))}const M={install:R};let V=null;return"undefined"!=typeof window?V=window.Vue:"undefined"!=typeof global&&(V=global.Vue),V&&V.use(M),e.install=R,e}({},JSONEditor,VuetifyImageInput,axios);
